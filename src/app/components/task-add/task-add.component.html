<h2>Adicionar Tarefa</h2>

<form #taskForm="ngForm"> 
    <div class="row my-3">
        <div class="col">
            <label class="form-label" for="description">Descrição:</label>
            <input id="description" class="form-control form-control-sm" #description="ngModel" maxlength="200"
                minlength="2" required [(ngModel)]="task.description" name="description">
            <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
                <div *ngIf="description.errors?.['required']">
                    O campo descrição deve ser preenchido.
                </div>
                <div *ngIf="description.errors?.['minlength']">
                    O campo descrição deve possuir pelo menos 2 caracteres.
                </div>
                <div *ngIf="description.errors?.['maxlength']">
                    O campo descrição deve possuir no máximo 200 caracteres.
                </div>
            </div>
        </div>
    </div>
    <div class="row my-3">
        <div class="col">
            <label class="form-label" for="status">Status:</label>
            <select class="form-control form-select" id="status" #status="ngModel" required
                [(ngModel)]="task.status" name="status">
                <option [ngValue]="1">Concluído</option>
                <option [ngValue]="2">Pendente</option>
                <option [ngValue]="3">Em Andamento</option>
                <option [ngValue]="4">Cancelado</option>
            </select>
            <div *ngIf="status.invalid && (status.dirty || status.touched)" class="alert alert-danger">
                <div *ngIf="status.errors?.['required']">
                    O campo Status deve ser preenchido.
                </div>
            </div>
        </div>
    </div>
    <div class="row my-3">
        <div class="col">
            <label class="form-label" for="date">Data:</label>
            <input #date="ngModel" class="form-control form-control-sm" type="date" id="date" required
                [(ngModel)]="task.date" name="date">
            <div *ngIf="date.invalid && (date.dirty || date.touched)" class="alert alert-danger">
                <div *ngIf="date.errors?.['required']">
                    O campo Date deve ser preenchido.
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-success" [disabled]="taskForm.invalid" type="button" (click)="addTask()">Adicionar</button>
    <button class="btn btn-success" type="button" (click)="goBack()">Voltar</button>

</form>